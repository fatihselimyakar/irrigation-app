{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,Box,Button,Select,MenuItem}from'@mui/material';import{LocalizationProvider}from'@mui/x-date-pickers';import{AdapterDayjs}from'@mui/x-date-pickers/AdapterDayjs';import BackButton from'../components/BackButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManualPage=()=>{const[selectedDuration,setSelectedDuration]=useState('');const[loading,setLoading]=useState(true);// GET request to fetch initial state\nuseEffect(()=>{const fetchState=async()=>{try{const response=await fetch('https://flask-backend-app-7pvn.onrender.com/manual_page/get_state?user_id=1');const data=await response.json();setSelectedDuration(data.selected_duration||'');setLoading(false);}catch(error){console.error(\"Error fetching state:\",error);setLoading(false);}};fetchState();},[]);// Handle the POST request when the form is submitted\nconst handleSubmit=async()=>{try{const response=await fetch('https://flask-backend-app-7pvn.onrender.com/manual_page/set_state',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:1,// This would normally come from user authentication\nselected_duration:selectedDuration})});if(response.ok){alert('State saved successfully');}else{alert('Failed to save state');}}catch(error){console.error('Error saving state:',error);}};// Handle duration change\nconst handleDurationChange=event=>{setSelectedDuration(event.target.value);};if(loading){return/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});}return/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDayjs,children:/*#__PURE__*/_jsxs(Box,{sx:{position:'relative',height:'100vh',padding:2},children:[/*#__PURE__*/_jsx(BackButton,{}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{position:'absolute',fontFamily:\"'Nunito', sans-serif\",top:20,left:'50%',transform:'translateX(-50%)',zIndex:1},children:\"Manual Irrigation\"}),/*#__PURE__*/_jsxs(Container,{sx:{textAlign:'center',marginTop:'60px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontFamily:\"'Nunito', sans-serif\",color:'#84a7b8'},children:\"Select Irrigation Duration\"}),/*#__PURE__*/_jsx(Box,{sx:{marginBottom:2},children:/*#__PURE__*/_jsxs(Select,{sx:{maxWidth:'300px',width:'100%'},value:selectedDuration,onChange:handleDurationChange,displayEmpty:true,inputProps:{'aria-label':'Select Duration'},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",disabled:true,children:\"Select Minutes\"}),[...Array(24).keys()].map(i=>{const minute=(i+1)*5;return/*#__PURE__*/_jsxs(MenuItem,{value:minute,children:[minute,\" minute\",minute>1?'s':'']},minute);})]})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleSubmit,sx:{marginTop:2,borderRadius:'50px',background:'linear-gradient(45deg, #84a7b8 30%, #aec1ca 90%)',boxShadow:'0 6px 10px 4px rgba(110, 138, 152, .3)','&:hover':{background:'linear-gradient(45deg, #aec1ca 30%, #84a7b8 90%)'}},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontFamily:\"'Nunito', sans-serif\"},children:\"Submit\"})})]})]})});};export default ManualPage;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Box","Button","Select","MenuItem","LocalizationProvider","AdapterDayjs","BackButton","jsx","_jsx","jsxs","_jsxs","ManualPage","selectedDuration","setSelectedDuration","loading","setLoading","fetchState","response","fetch","data","json","selected_duration","error","console","handleSubmit","method","headers","body","JSON","stringify","user_id","ok","alert","handleDurationChange","event","target","value","children","dateAdapter","sx","position","height","padding","variant","fontFamily","top","left","transform","zIndex","textAlign","marginTop","color","marginBottom","maxWidth","width","onChange","displayEmpty","inputProps","disabled","Array","keys","map","i","minute","onClick","borderRadius","background","boxShadow"],"sources":["/Users/fatihselimyakar/fsy-workspace/react-playground/irrigation-app/src/pages/ManualPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Typography, Box, Button, Select, MenuItem } from '@mui/material';\nimport { LocalizationProvider } from '@mui/x-date-pickers';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport BackButton from '../components/BackButton';\n\nconst ManualPage = () => {\n    const [selectedDuration, setSelectedDuration] = useState('');\n    const [loading, setLoading] = useState(true);\n\n    // GET request to fetch initial state\n    useEffect(() => {\n        const fetchState = async () => {\n            try {\n                const response = await fetch('https://flask-backend-app-7pvn.onrender.com/manual_page/get_state?user_id=1');\n                const data = await response.json();\n                setSelectedDuration(data.selected_duration || '');\n                setLoading(false);\n            } catch (error) {\n                console.error(\"Error fetching state:\", error);\n                setLoading(false);\n            }\n        };\n\n        fetchState();\n    }, []);\n\n    // Handle the POST request when the form is submitted\n    const handleSubmit = async () => {\n        try {\n            const response = await fetch('https://flask-backend-app-7pvn.onrender.com/manual_page/set_state', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    user_id: 1, // This would normally come from user authentication\n                    selected_duration: selectedDuration,\n                }),\n            });\n\n            if (response.ok) {\n                alert('State saved successfully');\n            } else {\n                alert('Failed to save state');\n            }\n        } catch (error) {\n            console.error('Error saving state:', error);\n        }\n    };\n\n    // Handle duration change\n    const handleDurationChange = (event) => {\n        setSelectedDuration(event.target.value);\n    };\n\n    if (loading) {\n        return <Typography>Loading...</Typography>;\n    }\n\n    return (\n        <LocalizationProvider dateAdapter={AdapterDayjs}>\n            <Box sx={{ position: 'relative', height: '100vh', padding: 2 }}>\n                <BackButton />\n                <Typography\n                    variant=\"h5\"\n                    sx={{\n                        position: 'absolute',\n                        fontFamily: \"'Nunito', sans-serif\",\n                        top: 20,\n                        left: '50%',\n                        transform: 'translateX(-50%)',\n                        zIndex: 1,\n                    }}\n                >\n                    Manual Irrigation\n                </Typography>\n                <Container sx={{ textAlign: 'center', marginTop: '60px' }}>\n                    <Typography variant=\"h6\" sx={{\n                        fontFamily: \"'Nunito', sans-serif\",\n                        color:'#84a7b8'\n                    }}>Select Irrigation Duration</Typography>\n                    <Box sx={{ marginBottom: 2 }}>\n                        <Select\n                            sx={{ \n                              maxWidth: '300px',\n                              width: '100%',\n                            }}\n                            value={selectedDuration}\n                            onChange={handleDurationChange}\n                            displayEmpty\n                            inputProps={{ 'aria-label': 'Select Duration' }}\n                        >\n                            <MenuItem value=\"\" disabled>Select Minutes</MenuItem>\n                            {[...Array(24).keys()].map(i => {\n                                const minute = (i + 1) * 5;\n                                return (\n                                    <MenuItem key={minute} value={minute}>\n                                        {minute} minute{minute > 1 ? 's' : ''}\n                                    </MenuItem>\n                                );\n                            })}\n                        </Select>\n                    </Box>\n                    \n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleSubmit}\n                        sx={{\n                            marginTop: 2,\n                            borderRadius: '50px',\n                            background: 'linear-gradient(45deg, #84a7b8 30%, #aec1ca 90%)',\n                            boxShadow: '0 6px 10px 4px rgba(110, 138, 152, .3)',\n                            '&:hover': {\n                                background: 'linear-gradient(45deg, #aec1ca 30%, #84a7b8 90%)',\n                            },\n                        }}\n                    >\n                         <Typography variant=\"h6\" sx={{\n                        fontFamily: \"'Nunito', sans-serif\",\n                    }}>Submit</Typography>\n                    </Button>\n                </Container>\n            </Box>\n        </LocalizationProvider>\n    );\n};\n\nexport default ManualPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}